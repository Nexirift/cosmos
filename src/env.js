import { createEnv } from "@t3-oss/env-nextjs";
import { z } from "zod";

const defaultLogo = `data:image/png;base64,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`;

export const env = createEnv({
  server: {
    NODE_ENV: z.enum(["development", "test", "production"]),
    APP_NAME: z.string().default("Cosmos"),
    APP_LOGO: z.string().default(defaultLogo),
    IS_NEXIRIFT_MODE: z.boolean().default(true),
    NOVA_URL: z.string().url().optional(),
    DATABASE_URL: z.string(),
    BETTER_AUTH_SECRET: z.string(),
    BETTER_AUTH_URL: z.string().url(),
    POLAR_ACCESS_TOKEN: z.string().optional(),
    POLAR_WEBHOOK_SECRET: z.string().optional(),
    SMTP_HOST: z.string(),
    SMTP_PORT: z.number().or(z.string().transform(Number)),
    SMTP_AUTH_USER: z.string(),
    SMTP_AUTH_PASS: z.string(),
    SMTP_FROM: z.string().email(),
    SUPPORT_EMAIL: z.string().email(),

    /* Auth Providers */
    AUTH_PROVIDER_GOOGLE_CLIENT_ID: z.string().optional(),
    AUTH_PROVIDER_GOOGLE_CLIENT_SECRET: z.string().optional(),

    AUTH_PROVIDER_GITHUB_CLIENT_ID: z.string().optional(),
    AUTH_PROVIDER_GITHUB_CLIENT_SECRET: z.string().optional(),

    AUTH_PROVIDER_TWITTER_CLIENT_ID: z.string().optional(),
    AUTH_PROVIDER_TWITTER_CLIENT_SECRET: z.string().optional(),

    AUTH_PROVIDER_TWITCH_CLIENT_ID: z.string().optional(),
    AUTH_PROVIDER_TWITCH_CLIENT_SECRET: z.string().optional(),

    AUTH_PROVIDER_GITLAB_CLIENT_ID: z.string().optional(),
    AUTH_PROVIDER_GITLAB_CLIENT_SECRET: z.string().optional(),
    AUTH_PROVIDER_GITLAB_ISSUER: z.string().optional(),

    AUTH_PROVIDER_DISCORD_CLIENT_ID: z.string().optional(),
    AUTH_PROVIDER_DISCORD_CLIENT_SECRET: z.string().optional(),
  },
  client: {
    NEXT_PUBLIC_NOVA_URL: z.string().url().optional(),
    NEXT_PUBLIC_APP_NAME: z.string().default("Cosmos"),
    NEXT_PUBLIC_APP_LOGO: z.string().default(defaultLogo),
  },
  runtimeEnv: {
    NODE_ENV: process.env.NODE_ENV,
    APP_NAME: process.env.APP_NAME,
    APP_LOGO: process.env.APP_LOGO,
    IS_NEXIRIFT_MODE: process.env.IS_NEXIRIFT_MODE,
    NOVA_URL: process.env.NOVA_URL,
    NEXT_PUBLIC_NOVA_URL: process.env.NOVA_URL,
    NEXT_PUBLIC_APP_NAME: process.env.APP_NAME,
    NEXT_PUBLIC_APP_LOGO: process.env.APP_LOGO,
    DATABASE_URL: process.env.DATABASE_URL,
    BETTER_AUTH_SECRET: process.env.BETTER_AUTH_SECRET,
    BETTER_AUTH_URL: process.env.BETTER_AUTH_URL,
    POLAR_ACCESS_TOKEN: process.env.POLAR_ACCESS_TOKEN,
    POLAR_WEBHOOK_SECRET: process.env.POLAR_WEBHOOK_SECRET,
    SMTP_HOST: process.env.SMTP_HOST,
    SMTP_PORT: process.env.SMTP_PORT,
    SMTP_AUTH_USER: process.env.SMTP_AUTH_USER,
    SMTP_AUTH_PASS: process.env.SMTP_AUTH_PASS,
    SMTP_FROM: process.env.SMTP_FROM,
    SUPPORT_EMAIL: process.env.SUPPORT_EMAIL,

    /* Auth Providers */
    AUTH_PROVIDER_GOOGLE_CLIENT_ID: process.env.AUTH_PROVIDER_GOOGLE_CLIENT_ID,
    AUTH_PROVIDER_GOOGLE_CLIENT_SECRET:
      process.env.AUTH_PROVIDER_GOOGLE_CLIENT_SECRET,

    AUTH_PROVIDER_GITHUB_CLIENT_ID: process.env.AUTH_PROVIDER_GITHUB_CLIENT_ID,
    AUTH_PROVIDER_GITHUB_CLIENT_SECRET:
      process.env.AUTH_PROVIDER_GITHUB_CLIENT_SECRET,

    AUTH_PROVIDER_TWITTER_CLIENT_ID:
      process.env.AUTH_PROVIDER_TWITTER_CLIENT_ID,
    AUTH_PROVIDER_TWITTER_CLIENT_SECRET:
      process.env.AUTH_PROVIDER_TWITTER_CLIENT_SECRET,

    AUTH_PROVIDER_TWITCH_CLIENT_ID: process.env.AUTH_PROVIDER_TWITCH_CLIENT_ID,
    AUTH_PROVIDER_TWITCH_CLIENT_SECRET:
      process.env.AUTH_PROVIDER_TWITCH_CLIENT_SECRET,

    AUTH_PROVIDER_GITLAB_CLIENT_ID: process.env.AUTH_PROVIDER_GITLAB_CLIENT_ID,
    AUTH_PROVIDER_GITLAB_CLIENT_SECRET:
      process.env.AUTH_PROVIDER_GITLAB_CLIENT_SECRET,
    AUTH_PROVIDER_GITLAB_ISSUER: process.env.AUTH_PROVIDER_GITLAB_ISSUER,

    AUTH_PROVIDER_DISCORD_CLIENT_ID:
      process.env.AUTH_PROVIDER_DISCORD_CLIENT_ID,
    AUTH_PROVIDER_DISCORD_CLIENT_SECRET:
      process.env.AUTH_PROVIDER_DISCORD_CLIENT_SECRET,
  },
  skipValidation:
    !!process.env.SKIP_ENV_VALIDATION || process.env.NODE_ENV === "test",
});
